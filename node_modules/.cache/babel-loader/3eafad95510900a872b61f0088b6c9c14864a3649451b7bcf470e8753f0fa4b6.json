{"ast":null,"code":"import _slicedToArray from\"C:/Users/Lenovo/OneDrive/Desktop/kbc_clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import useSound from\"use-sound\";import play from\"../sounds/play.mp3\";import correct from\"../sounds/correct.mp3\";import wrong from\"../sounds/wrong.mp3\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Trivia(_ref){var data=_ref.data,questionNumber=_ref.questionNumber,setQuestionNumber=_ref.setQuestionNumber,setTimeOut=_ref.setTimeOut;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),question=_useState2[0],setQuestion=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedAnswer=_useState4[0],setSelectedAnswer=_useState4[1];var _useState5=useState(\"answer\"),_useState6=_slicedToArray(_useState5,2),className=_useState6[0],setClassName=_useState6[1];var _useSound=useSound(play),_useSound2=_slicedToArray(_useSound,1),letsPlay=_useSound2[0];var _useSound3=useSound(correct),_useSound4=_slicedToArray(_useSound3,1),correctAnswer=_useSound4[0];var _useSound5=useSound(wrong),_useSound6=_slicedToArray(_useSound5,1),wrongAnswer=_useSound6[0];useEffect(function(){letsPlay();},[letsPlay]);useEffect(function(){setQuestion(data[questionNumber-1]);},[data,questionNumber]);var delay=function delay(duration,callback){setTimeout(function(){callback();},duration);};var handleClick=function handleClick(a){setSelectedAnswer(a);setClassName(\"answer active\");delay(3000,function(){setClassName(a.correct?\"answer correct\":\"answer wrong\");});// setTimeout(() => {\n//   setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n// }, 3000);\n// setTimeout(() => {\ndelay(5000,function(){if(a.correct){correctAnswer();delay(1000,function(){setQuestionNumber(function(prev){return prev+1;});setSelectedAnswer(null);});// setTimeout(() => {\n//   setQuestionNumber((prev) => prev + 1);\n//   setSelectedAnswer(null);\n// }, 1000);\n}else{wrongAnswer();delay(1000,function(){setTimeOut(true);});// setTimeout(() => {\n//   setTimeOut(true);\n// }, 1000);\n}// }, 5000);\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"trivia\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:question===null||question===void 0?void 0:question.question}),/*#__PURE__*/_jsx(\"div\",{className:\"answers\",children:question===null||question===void 0?void 0:question.answers.map(function(a){return/*#__PURE__*/_jsx(\"div\",{className:selectedAnswer===a?className:\"answer\",onClick:function onClick(){return!selectedAnswer&&handleClick(a);},children:a.text});})})]});}","map":{"version":3,"names":["useEffect","useState","useSound","play","correct","wrong","jsx","_jsx","jsxs","_jsxs","Trivia","_ref","data","questionNumber","setQuestionNumber","setTimeOut","_useState","_useState2","_slicedToArray","question","setQuestion","_useState3","_useState4","selectedAnswer","setSelectedAnswer","_useState5","_useState6","className","setClassName","_useSound","_useSound2","letsPlay","_useSound3","_useSound4","correctAnswer","_useSound5","_useSound6","wrongAnswer","delay","duration","callback","setTimeout","handleClick","a","prev","children","answers","map","onClick","text"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/kbc_clone/src/components/Trivia.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport useSound from \"use-sound\";\nimport play from \"../sounds/play.mp3\";\nimport correct from \"../sounds/correct.mp3\";\nimport wrong from \"../sounds/wrong.mp3\";\n\nexport default function Trivia({\n  data,\n  questionNumber,\n  setQuestionNumber,\n  setTimeOut,\n}) {\n  const [question, setQuestion] = useState(null);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [className, setClassName] = useState(\"answer\");\n  const [letsPlay] = useSound(play);\n  const [correctAnswer] = useSound(correct);\n  const [wrongAnswer] = useSound(wrong);\n\n  useEffect(() => {\n    letsPlay();\n  }, [letsPlay]);\n\n  useEffect(() => {\n    setQuestion(data[questionNumber - 1]);\n  }, [data, questionNumber]);\n\n  const delay = (duration, callback) => {\n    setTimeout(() => {\n      callback();\n    }, duration);\n  };\n\n  const handleClick = (a) => {\n    setSelectedAnswer(a);\n    setClassName(\"answer active\");\n    delay(3000, () => {\n      setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n    });\n    // setTimeout(() => {\n    //   setClassName(a.correct ? \"answer correct\" : \"answer wrong\");\n    // }, 3000);\n\n    // setTimeout(() => {\n      delay(5000, () => {\n      if (a.correct) {\n        correctAnswer();\n        delay(1000, () => {\n          setQuestionNumber((prev) => prev + 1);\n          setSelectedAnswer(null);\n        });\n        // setTimeout(() => {\n        //   setQuestionNumber((prev) => prev + 1);\n        //   setSelectedAnswer(null);\n        // }, 1000);\n      } else {\n        wrongAnswer();\n        delay(1000, () => {\n          setTimeOut(true);\n        });\n        // setTimeout(() => {\n        //   setTimeOut(true);\n        // }, 1000);\n      }\n    // }, 5000);\n      })\n  };\n  return (\n    <div className=\"trivia\">\n      <div className=\"question\">{question?.question}</div>\n      <div className=\"answers\">\n        {question?.answers.map((a) => (\n          <div\n            className={selectedAnswer === a ? className : \"answer\"}\n            onClick={() => !selectedAnswer && handleClick(a)}\n          >\n            {a.text}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}